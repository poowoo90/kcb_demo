<html>

<head>
    <meta charset="utf-8">
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1" >
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.css" />
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.js"></script>
    <script src="common.js"></script>

    <script language = "javascript">

    common_getJsonData();

    /**
     * 기본함수 이전 페이지에서 넘긴 결과 data 정보를 받아온다.
     */
    function onCreate(json) {
        var jsonData = JSON.parse(json);
        var userData = common_getUserData(jsonData.name);

        document.getElementById('UsrName').value = jsonData.name;
        document.getElementById('phone1').value = userData.phone.substr(0,3);
        document.getElementById('phone2').value = userData.phone.substr(3,4);
        document.getElementById('phone3').value = userData.phone.substr(7,4);
        document.getElementById('officeNm').value = userData.officeNm;  //직장명
        document.getElementById('loanAccount').value = userData.loanAccount; //입금계좌
        document.getElementById('annualIncome').value = userData.annualIncome; //연소득
        document.getElementById('conAmt').value = userData.conAmt; //약정금액
        document.getElementById('CBAmt').value = userData.CBAmt; //신용정보평가 금액
        document.getElementById('NBAmt').value = userData.NBAmt; //통신정보평가 금액
        document.getElementById('contractRate').value = userData.contractRate; //약정금리
        document.getElementById('CBRate').value = userData.CBRate; //신용정보평가 금리
        document.getElementById('NBRate').value = userData.NBRate; //통신정보평가 금리
        document.getElementById('arrearsYN').value = userData.arrearsYN; //연체여부
        document.getElementById('arrearsAmt').value = userData.arrearsAmt; //연체금액
    }

    function nextPage() {
        var UsrName     = document.querySelector('#UsrName').value;
        var UsrReqPay   = Number(document.querySelector('#UsrReqPay').value);
        var conAmt      = Number(document.querySelector('#conAmt').value);

        if(UsrReqPay == null || UsrReqPay == '' || UsrReqPay == 0 || conAmt < UsrReqPay) {
            document.querySelector('#UsrReqPay').value = "";
            alert('확인해 주세요');
            return false;
        }
        var JsonData =
        {
            "name" : UsrName,
            "reqPay" : UsrReqPay,
        };
        common_movePage('2024.html', JsonData);
    }

    </script>

</head>

<body leftmargin='0' topmargin='0'>
<div data-role="page" id="page">
    <div data-role="header" >
        <h1>2023화면</h1>
    </div>
    <div data-role="content" style="margin-top:13%;">
        <ul data-role="listview" >
            <li data-role="list-divider">대출심사조회 및 신청</li>
            <li><a data-transition="slide" onclick ="common_goBack();">이전 페이지</a></li>
        </ul>
    </div>
    <div data-role="content">
        성명       <input type="text" id="UsrName" name="UsrName">
        휴대폰번호 <input type="text" id="phone1" name="phone1" readonly> -
        <input type="tel" id="phone2" name="phone2" readonly> -
        <input type="tel" id="phone3" name="phone3" readonly>
    </div>
    <div data-role="content">
        신용(Credit Bureau) 정보
    </div>
    <div data-role="content">
        직장명   <input type="text" id="officeNm"  name="officeNm"  readonly>
        연소득   <input type="number" id="annualIncome" name="annualIncome" readonly>
        연체여부 <input type="text" id="arrearsYN" name="arrearsYN" readonly>
        연체금액 <input type="number" id="arrearsAmt" name="arrearsAmt" readonly>
    </div>
    <div data-role="content">
        대출정보
    </div>
    <div data-role="content">
        한도금액(만원) <input type="number" id="conAmt"  name="conAmt"  readonly>
        신용정보평가금액   <input type="number" id="CBAmt" name="CBAmt" readonly>
        통신정보평가금액 <input type="number" id="NBAmt" name="NBAmt" readonly>
        약정금리     <input type="number" id="contractRate" name="contractRate" readonly>
        신용정보평가금리 <input type="number" id="CBRate" name="CBRate" readonly>
        통신정보평가금리 <input type="number" id="NBRate" name="NBRate" readonly>
    </div>
    <div data-role="content">
        신청금액(만원) <input type="number" id="UsrReqPay"  name="UsrReqPay"  >
        입금계좌       <input type="number" id="loanAccount"  name="loanAccount" readonly>
    </div>

    <div data-role="footer" >
        <a data-role="button" data-transition="slide" data-direction="reverse" data-theme="b" onclick="common_cancel();">취소</a>
        <a data-role="button" data-transition="slide" data-direction="reverse" data-theme="b"  onclick="nextPage();">확인</a>
    </div>
</div>
</body>
</html>